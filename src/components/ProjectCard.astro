---
const { lang, project } = Astro.props;

const href = `/${lang}/projects/${project.slug}/`;
const title = project.title[lang];
const summary = project.summary[lang];
const category = project.category[lang];

const statusLabel =
  project.status === "wip"
    ? (lang === "fr" ? "En cours" : "Work in progress")
    : (lang === "fr" ? "Disponible" : "Live");

const viewLabel = lang === "fr" ? "Voir le projet" : "View project";
const repoLabel = lang === "fr" ? "Repo" : "Repository";
---
<article class="card" style="padding:16px; display:flex; flex-direction:column; min-height: 220px;">
  <div style="display:flex; justify-content:space-between; gap:10px; align-items:flex-start;">
    <div style="font-weight:800; letter-spacing:.2px; line-height:1.2;">
      {title}
    </div>
    <span
      style="font-size:12px; padding:2px 10px; border:1px solid rgba(255,255,255,.14); border-radius:999px; opacity:.85; white-space:nowrap;"
    >
      {statusLabel}
    </span>
  </div>

  <div style="margin-top:6px; opacity:.72; font-size:13px;">
    <b style="opacity:.92;">{category}</b>
    <span style="opacity:.7;"> Â· {project.date}</span>
  </div>

  <p style="margin:10px 0 12px; opacity:.78; line-height:1.45; font-size:14px;">
    {summary}
  </p>

  <div style="display:flex; gap:8px; flex-wrap:wrap; margin-top:auto;">
    {project.tags.slice(0, 5).map((tag: string) => (
      <span
        style="font-size:12px; border:1px solid rgba(255,255,255,.12); border-radius:999px; padding:2px 8px; opacity:.8;"
      >
        {tag}
      </span>
    ))}
  </div>

  <div style="margin-top:12px; display:flex; gap:10px; flex-wrap:wrap;">
    <a class="btn" href={href}>{viewLabel}</a>
    <a class="btn" href={project.links.repo} target="_blank" rel="noreferrer">{repoLabel}</a>
  </div>
</article>
